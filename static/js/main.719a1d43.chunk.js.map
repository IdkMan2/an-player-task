{"version":3,"sources":["components/organisms/PlayerControls/styles.module.scss","components/organisms/NextSongFooter/styles.module.scss","components/templates/RootTemplate/styles.module.scss","components/atoms/Cover/styles.module.scss","components/molecules/SongTitle/styles.module.scss","components/molecules/AlbumTitle/styles.module.scss","components/atoms/Logo/styles.module.scss","components/organisms/ProgressControls/styles.module.scss","components/atoms/BackgroundImage/styles.module.scss","components/atoms/HeaderButton/styles.module.scss","components/molecules/ProgressBar/styles.module.scss","components/atoms/MusicWave/styles.module.scss","components/organisms/Header/styles.module.scss","assets/images/back_ico.svg","assets/images/more_ico.svg","assets/images/cover.png","assets/images/unreleased_cover.png","assets/images/cover-1.png","components/organisms/CoversSlider/styles.module.scss","assets/images/usertive_logo.svg","assets/images/shuffle_ico.svg","assets/images/previous_ico.svg","assets/images/next_ico.svg","assets/images/repeat_ico.svg","assets/images/Play_active.png","assets/images/Play_inactive.png","assets/images/wave.png","assets/images/playlist_ico.svg","components/templates/RootTemplate/index.tsx","components/atoms/BackgroundImage/index.tsx","components/atoms/HeaderButton/index.tsx","components/molecules/AlbumTitle/index.tsx","components/organisms/Header/index.tsx","redux-store/features/player/demo-songs.ts","redux-store/features/player/helpers.ts","redux-store/features/player/slice.ts","utils/random-utils.ts","components/pages/RootPage/redux.ts","components/atoms/Logo/index.tsx","components/atoms/Cover/index.tsx","components/organisms/CoversSlider/carousel-settings.ts","components/molecules/SongTitle/index.tsx","utils/constans.ts","components/organisms/CoversSlider/index.tsx","components/organisms/PlayerControls/index.tsx","components/atoms/ProgressSlider/index.tsx","components/molecules/ProgressBar/index.tsx","utils/time-utils.ts","hooks/usePrevious.ts","components/organisms/ProgressControls/index.tsx","components/atoms/MusicWave/index.tsx","components/organisms/NextSongFooter/index.tsx","components/pages/RootPage/index.tsx","hooks/useTrackTimer.ts","hooks/useTrackEndHandler.ts","redux-store/rootReducer.ts","redux-store/store.ts","App.tsx","index.tsx"],"names":["module","exports","memo","props","Fragment","className","classes","backgroundLayer","sectionsContainer","header","bodySection","body","stickyBottom","style","marginTop","player","progressBar","musicWave","footer","BackgroundImage","image","gradient","HeaderButton","imgSrc","altDescription","btnContainer","src","alt","img","AlbumTitle","root","albumInfo","albumTitle","title","Header","backButtonImg","moreButtonImg","demoSongs","id","album","author","durationMillis","coverImg","cover1","cover2","cover3","playbackStatusUpdater","state","newPlaybackStatus","playbackStatus","initialState","songs","previousSongs","nextSongs","isPlayingNow","currentSongId","isLoopModeEnabled","isShuffleModeEnabled","progressMilis","min","max","newNextSongs","slice","lastPushedSongId","length","limit","songIndex","Math","floor","random","song","push","fillShuffledPlaylist","fillOrderedPlaylist","createSlice","name","reducers","playSpecifiedSong","action","nextSongId","payload","indexOf","newCurrentSongIndex","songsToTransfer","newPreviousSongs","unshift","playPreviousSong","_action","newPrevSongs","songId","pop","playNextSong","shift","loopSong","switchShuffleMode","switchLoopMode","switchPlayingState","forwardProgress","connectRedux","connect","currentSong","find","dispatch","bindActionCreators","actions","Logo","internalCircle","logoImg","logo","Cover","enlarge","clsx","background","backgroundImage","logoOverlay","coversCarouselSettings","clickToChange","centered","slidesPerPage","dots","titlesCarouselSettings","visible","fadeIn","subtitle","toUpperCase","MAX_ROOT_WIDTH","window","innerWidth","coverSize","CoversSlider","findSongById","bind","generateCache","renderCover","onSlideChange","renderTitle","cache","currentSlideIndex","prevProps","this","setState","concat","map","index","key","itemWidth","offset","value","onChange","Component","createSwitcher","useCallback","fn","controlBtn","shuffleBtnIcon","onClick","active","prevSongBtnIcon","playBtn","playActiveBtnIcon","fadeOut","playInactiveBtnIcon","nextSongBtnIcon","loopSongBtnIcon","ProgressSlider","withStyles","height","thumb","width","display","track","color","rail","borderRadius","Slider","durationMilis","setProgressMilis","handleChange","event","Array","isArray","handleChangeCommited","_event","onChangeCommitted","valueLabelDisplay","sliderEndDot","easyTimeFormat","timeMilis","seconds","minutes","leftSeconds","toString","usePrevious","ref","useRef","useEffect","current","prevProgressMilis","useState","localProgress","setLocalProgress","isSwipingNow","setSwipingNow","useMemo","handleSliderProgressChange","newValue","commited","startTime","endTime","timeLabel","MusicWave","musicWaveImg","nextSong","undefined","songDuration","playlistImgWrapper","playlistImg","nextSongContentWrapper","label","songInfoRow","songTitle","args","progressMilisPointer","tickTimerId","stopTimer","clearInterval","setInterval","left","useTrackTimer","useTrackEndHandler","rootReducer","combineReducers","reducer","store","configureStore","middleware","getDefaultMiddleware","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.719a1d43.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__OVhSL\",\"controlBtn\":\"styles_controlBtn__2_b1y\",\"active\":\"styles_active__3ic0Z\",\"playBtn\":\"styles_playBtn__3VQsJ\",\"fadeOut\":\"styles_fadeOut__3mafY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__3TL_m\",\"playlistImgWrapper\":\"styles_playlistImgWrapper__1_fwg\",\"playlistImg\":\"styles_playlistImg__1Meuw\",\"nextSongContentWrapper\":\"styles_nextSongContentWrapper__1daVr\",\"label\":\"styles_label__377My\",\"songInfoRow\":\"styles_songInfoRow__11UKT\",\"songTitle\":\"styles_songTitle__2u4rq\",\"songDuration\":\"styles_songDuration__9Xu9m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backgroundLayer\":\"styles_backgroundLayer__1jX2C\",\"sectionsContainer\":\"styles_sectionsContainer__3Oy0m\",\"bodySection\":\"styles_bodySection__np9eN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__TyuTS\",\"enlarge\":\"styles_enlarge__1_xoB\",\"background\":\"styles_background__BCbN4\",\"logoOverlay\":\"styles_logoOverlay__HpOkW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__1W8VI\",\"fadeIn\":\"styles_fadeIn__RWSXY\",\"title\":\"styles_title__1c6h_\",\"subtitle\":\"styles_subtitle__or2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__OBOMx\",\"albumInfo\":\"styles_albumInfo__3sN6e\",\"albumTitle\":\"styles_albumTitle__2nHhx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__3Tzm7\",\"internalCircle\":\"styles_internalCircle__1ecl8\",\"logo\":\"styles_logo__2QuvG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__2rlLG\",\"timeLabel\":\"styles_timeLabel__2I6mX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"styles_image__3rXsZ\",\"gradient\":\"styles_gradient__F6T6H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnContainer\":\"styles_btnContainer__4PDNL\",\"img\":\"styles_img__DEEPQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__3qkL9\",\"sliderEndDot\":\"styles_sliderEndDot__Dhbbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__21r3D\",\"img\":\"styles_img__7-_lu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__3oSLL\"};","module.exports = __webpack_public_path__ + \"static/media/back_ico.6d8b1009.svg\";","module.exports = __webpack_public_path__ + \"static/media/more_ico.68d542b2.svg\";","module.exports = __webpack_public_path__ + \"static/media/cover.aa246fdc.png\";","module.exports = __webpack_public_path__ + \"static/media/unreleased_cover.a2195768.png\";","module.exports = __webpack_public_path__ + \"static/media/cover-1.8e344a79.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__3lGXi\",\"divider\":\"styles_divider__mlMjc\"};","module.exports = __webpack_public_path__ + \"static/media/usertive_logo.2bd484f6.svg\";","module.exports = __webpack_public_path__ + \"static/media/shuffle_ico.9cca0f11.svg\";","module.exports = __webpack_public_path__ + \"static/media/previous_ico.61530e1d.svg\";","module.exports = __webpack_public_path__ + \"static/media/next_ico.908e77ad.svg\";","module.exports = __webpack_public_path__ + \"static/media/repeat_ico.f24e6532.svg\";","module.exports = __webpack_public_path__ + \"static/media/Play_active.d522478d.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/wave.05b71ec6.png\";","module.exports = __webpack_public_path__ + \"static/media/playlist_ico.d560ea63.svg\";","import React, {memo, ReactNode} from \"react\";\r\nimport classes from './styles.module.scss';\r\n\r\nexport interface RootTemplateProps {\r\n  header?: ReactNode,\r\n  body?: ReactNode,\r\n  player?: ReactNode,\r\n  progressBar?: ReactNode,\r\n  musicWave?: ReactNode,\r\n  footer?: ReactNode,\r\n  backgroundLayer?: ReactNode,\r\n}\r\n\r\nfunction RootTemplate(props: RootTemplateProps) {\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={classes.backgroundLayer}>{props.backgroundLayer}</div>\r\n      <div className={classes.sectionsContainer}>\r\n        <section>{props.header}</section>\r\n        <section className={classes.bodySection}>{props.body}</section>\r\n\r\n        <section className={classes.stickyBottom}>\r\n          <section style={{ marginTop: 20 }}>{props.player}</section>\r\n          <section style={{ marginTop: 18 }}>{props.progressBar}</section>\r\n          <section style={{ marginTop: 15 }}>{props.musicWave}</section>\r\n          <section>{props.footer}</section>\r\n        </section>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default memo(RootTemplate);","import * as React from \"react\";\r\nimport classes from './styles.module.scss';\r\n\r\nfunction BackgroundImage() {\r\n  return (\r\n    <React.Fragment>\r\n      <div className={classes.image} />\r\n      <div className={classes.gradient} />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default BackgroundImage;","import React from \"react\";\r\nimport classes from './styles.module.scss';\r\n\r\nexport interface HeaderButtonProps {\r\n  imgSrc?: string,\r\n  altDescription?: string,\r\n}\r\n\r\nfunction HeaderButton(props: HeaderButtonProps) {\r\n  const {imgSrc, altDescription} = props;\r\n\r\n  return (\r\n    <div className={classes.btnContainer}>\r\n      <img src={imgSrc} alt={altDescription} className={classes.img} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HeaderButton;","import React from \"react\";\r\nimport classes from './styles.module.scss';\r\n\r\nexport interface AlbumTitleProps {\r\n  title: string,\r\n}\r\n\r\nfunction AlbumTitle(props: AlbumTitleProps) {\r\n  return (\r\n    <div className={classes.root}>\r\n      <h6 className={classes.albumInfo}>ALBUM</h6>\r\n      <h4 className={classes.albumTitle}>{props.title}</h4>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AlbumTitle;","import React from \"react\";\r\nimport classes from './styles.module.scss';\r\nimport HeaderButton from \"../../atoms/HeaderButton\";\r\nimport backButtonImg from '../../../assets/images/back_ico.svg';\r\nimport moreButtonImg from '../../../assets/images/more_ico.svg';\r\nimport AlbumTitle from \"../../molecules/AlbumTitle\";\r\n\r\nexport interface HeaderProps {\r\n  albumTitle: string,\r\n}\r\n\r\nfunction Header(props: HeaderProps) {\r\n  return (\r\n    <div className={classes.root}>\r\n      <HeaderButton imgSrc={backButtonImg} altDescription={'Przycisk powrotu'} />\r\n      <AlbumTitle title={props.albumTitle} />\r\n      <HeaderButton imgSrc={moreButtonImg} altDescription={'Przycisk powrotu'} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","import {Song} from \"./types\";\r\nimport cover1 from '../../../assets/images/cover.png';\r\nimport cover2 from '../../../assets/images/unreleased_cover.png';\r\nimport cover3 from '../../../assets/images/cover-1.png';\r\n\r\nconst demoSongs: Song[] = [\r\n  {\r\n    id: 1,\r\n    title: 'Asian Hooker',\r\n    album: 'Steel Panther',\r\n    author: 'Feel the Steel',\r\n    durationMillis: 242000,\r\n    coverImg: cover1,\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Self Conscious',\r\n    album: 'Unreleased',\r\n    author: 'Kanye West',\r\n    durationMillis: 261000,\r\n    coverImg: cover2,\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Gossip Files',\r\n    album: 'Unreleased',\r\n    author: 'Kanye West',\r\n    durationMillis: 233000,\r\n    coverImg: cover3,\r\n  },\r\n];\r\n\r\nexport default demoSongs;","import {InitialState, PlaybackStatus, Song} from \"./types\";\r\nimport {getRandomInt} from \"../../../utils/random-utils\";\r\n\r\nexport function playbackStatusUpdater(state: InitialState, newPlaybackStatus: Partial<PlaybackStatus>): InitialState {\r\n  return {\r\n    ...state,\r\n    ...{\r\n      playbackStatus: {\r\n        ...state.playbackStatus,\r\n        ...newPlaybackStatus\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nexport function fillPlaylist(state: InitialState): number[] {\r\n  const {playbackStatus: {isShuffleModeEnabled}} = state;\r\n\r\n  if(isShuffleModeEnabled)\r\n    return fillShuffledPlaylist(state);\r\n  else\r\n    return fillOrderedPlaylist(state);\r\n}\r\n\r\nfunction fillOrderedPlaylist(state: InitialState): number[] {\r\n  let newNextSongs: number[] = state.nextSongs.slice();\r\n\r\n  let songIndex: number = newNextSongs[newNextSongs.length - 1] ?? 0;\r\n  const limit = state.songs.length - state.previousSongs.length - 1;\r\n  while(newNextSongs.length < limit) {\r\n    songIndex += 1;\r\n\r\n    if(songIndex === state.songs.length)\r\n      songIndex = 0;\r\n\r\n    newNextSongs.push(state.songs[songIndex].id);\r\n  }\r\n\r\n  return newNextSongs;\r\n}\r\n\r\nfunction fillShuffledPlaylist(state: InitialState): number[] {\r\n  let newNextSongs: number[] = state.nextSongs.slice();\r\n\r\n  let lastPushedSongId: number = newNextSongs[newNextSongs.length - 1] ?? 0;\r\n  const limit = state.songs.length - state.previousSongs.length - 1;\r\n  while(newNextSongs.length < limit) {\r\n    const songIndex = getRandomInt(0, state.songs.length);\r\n    const song: Song = state.songs[songIndex];\r\n    if(song.id !== lastPushedSongId) {\r\n      lastPushedSongId = song.id;\r\n      newNextSongs.push(song.id);\r\n    }\r\n  }\r\n\r\n  return newNextSongs;\r\n}","import {Action, createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\nimport {InitialState} from \"./types\";\r\nimport demoSongs from \"./demo-songs\";\r\nimport {fillPlaylist, playbackStatusUpdater} from \"./helpers\";\r\n\r\nconst initialState: InitialState = {\r\n  songs: demoSongs,\r\n  previousSongs: [],\r\n  nextSongs: [],\r\n  playbackStatus: {\r\n    isPlayingNow: true,\r\n    currentSongId: demoSongs[0].id,\r\n    isLoopModeEnabled: false,\r\n    isShuffleModeEnabled: false,\r\n    progressMilis: 0,\r\n  }\r\n};\r\ninitialState.nextSongs = fillPlaylist(initialState);\r\n\r\nexport const player = createSlice({\r\n  name: 'APP/FEATURES/PLAYER',\r\n  initialState: initialState,\r\n  reducers: {\r\n    playSpecifiedSong: (state: InitialState, action: PayloadAction<number>) => {\r\n      const nextSongId = action.payload;\r\n      const {previousSongs, playbackStatus: {currentSongId}, nextSongs} = state;\r\n\r\n      if(nextSongId === currentSongId) {\r\n        // loop\r\n        return playbackStatusUpdater(state, {\r\n          progressMilis: 0,\r\n        });\r\n      } else if(previousSongs.indexOf(nextSongId) !== -1) {\r\n        const newCurrentSongIndex = previousSongs.indexOf(nextSongId);\r\n        const songsToTransfer = previousSongs.slice(newCurrentSongIndex + 1, previousSongs.length);\r\n        const newPreviousSongs = previousSongs.slice(0, newCurrentSongIndex);\r\n        const newNextSongs = nextSongs.slice();\r\n        newNextSongs.unshift(...songsToTransfer, currentSongId);\r\n\r\n        return {\r\n          ...state,\r\n          previousSongs: newPreviousSongs,\r\n          nextSongs: newNextSongs,\r\n          playbackStatus: {\r\n            ...state.playbackStatus,\r\n            currentSongId: nextSongId,\r\n            progressMilis: 0,\r\n            isLoopModeEnabled: false,\r\n            isPlayingNow: true,\r\n          }\r\n        };\r\n      } else if(nextSongs.indexOf(nextSongId) !== -1) {\r\n        const newCurrentSongIndex = nextSongs.indexOf(nextSongId);\r\n        const songsToTransfer = nextSongs.slice(0, newCurrentSongIndex);\r\n        const newNextSongs = nextSongs.slice(newCurrentSongIndex + 1, nextSongs.length);\r\n        const newPreviousSongs = previousSongs.slice();\r\n        newPreviousSongs.push(currentSongId, ...songsToTransfer);\r\n\r\n        return {\r\n          ...state,\r\n          previousSongs: newPreviousSongs,\r\n          nextSongs: newNextSongs,\r\n          playbackStatus: {\r\n            ...state.playbackStatus,\r\n            currentSongId: nextSongId,\r\n            progressMilis: 0,\r\n            isLoopModeEnabled: false\r\n          }\r\n        };\r\n      }\r\n    },\r\n    playPreviousSong: (state: InitialState, _action: Action) => {\r\n      if(state.previousSongs.length === 0)\r\n        return playbackStatusUpdater(state, {\r\n          progressMilis: 0,\r\n        });\r\n\r\n      const newNextSongs = state.nextSongs.slice();\r\n      const newPrevSongs = state.previousSongs.slice();\r\n      const songId = newPrevSongs.pop() as number;\r\n      const currentSongId = state.playbackStatus.currentSongId;\r\n      newNextSongs.unshift(currentSongId);\r\n\r\n      return {\r\n        ...state,\r\n        previousSongs: newPrevSongs,\r\n        nextSongs: newNextSongs,\r\n        playbackStatus: {\r\n          ...state.playbackStatus,\r\n          currentSongId: songId,\r\n          progressMilis: 0,\r\n          isLoopModeEnabled: false\r\n        }\r\n      };\r\n    },\r\n    playNextSong: (state: InitialState, _action: Action) => {\r\n      if(state.nextSongs.length === 0)\r\n        return; //TODO: zacznij od początku..?\r\n\r\n      const newNextSongs = state.nextSongs.slice();\r\n      const newPrevSongs = state.previousSongs.slice();\r\n      const songId = newNextSongs.shift() as number;\r\n      const currentSongId = state.playbackStatus.currentSongId;\r\n      newPrevSongs.push(currentSongId);\r\n\r\n      return {\r\n        ...state,\r\n        previousSongs: newPrevSongs,\r\n        nextSongs: newNextSongs,\r\n        playbackStatus: {\r\n          ...state.playbackStatus,\r\n          currentSongId: songId,\r\n          progressMilis: 0,\r\n          isLoopModeEnabled: false\r\n        }\r\n      };\r\n    },\r\n    loopSong: (state: InitialState, _action: Action) => {\r\n      return playbackStatusUpdater(state, {\r\n        progressMilis: 0\r\n      });\r\n    },\r\n    switchShuffleMode: (state: InitialState, action: PayloadAction<boolean | undefined>) => {\r\n      return playbackStatusUpdater(state, {\r\n        isShuffleModeEnabled: typeof(action.payload) === 'boolean' ? action.payload : !state.playbackStatus.isShuffleModeEnabled,\r\n      });\r\n    },\r\n    switchLoopMode: (state: InitialState, action: PayloadAction<boolean | undefined>) => {\r\n      return playbackStatusUpdater(state, {\r\n        isLoopModeEnabled: typeof(action.payload) === 'boolean' ? action.payload : !state.playbackStatus.isLoopModeEnabled,\r\n      });\r\n    },\r\n    switchPlayingState: (state: InitialState, action: PayloadAction<boolean | undefined>) => {\r\n      return playbackStatusUpdater(state, {\r\n        isPlayingNow: typeof(action.payload) === 'boolean' ? action.payload : !state.playbackStatus.isPlayingNow,\r\n      });\r\n    },\r\n    forwardProgress: (state: InitialState, action: PayloadAction<number | undefined>) => {\r\n      return playbackStatusUpdater(state, {\r\n        progressMilis: typeof(action.payload) === 'number' ? action.payload : state.playbackStatus.progressMilis + 1000,\r\n      });\r\n    },\r\n  },\r\n});","/**\r\n * @param min - inclusive\r\n * @param max - inclusive\r\n */\r\nexport function getRandomInt(min: number, max: number) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}","import {Song} from \"../../../redux-store/features/player/types\";\r\nimport {RootState, StandardDispatch} from \"../../../redux-store/types\";\r\nimport {connect, ConnectedProps} from \"react-redux\";\r\nimport {bindActionCreators} from \"redux\";\r\nimport {player} from \"../../../redux-store/features/player/slice\";\r\n\r\nconst mapStateToProps = (state: RootState) => {\r\n  const playbackStatus = state.player.playbackStatus;\r\n  const currentSong: Song = state.player.songs.find(\r\n    (song: Song) => song.id === playbackStatus.currentSongId\r\n  ) as Song;\r\n\r\n  return {\r\n    currentSong: currentSong,\r\n    previousSongs: state.player.previousSongs,\r\n    nextSongs: state.player.nextSongs,\r\n    songs: state.player.songs,\r\n    playbackStatus: playbackStatus,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: StandardDispatch) => (\r\n  bindActionCreators({\r\n    playSpecifiedSong: player.actions.playSpecifiedSong,\r\n    playPreviousSong: player.actions.playPreviousSong,\r\n    playNextSong: player.actions.playNextSong,\r\n    loopSong: player.actions.loopSong,\r\n    switchPlayingState: player.actions.switchPlayingState,\r\n    switchLoopMode: player.actions.switchLoopMode,\r\n    switchShuffleMode: player.actions.switchShuffleMode,\r\n    forwardProgress: player.actions.forwardProgress,\r\n  }, dispatch)\r\n);\r\n\r\nexport const connectRedux = connect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport type ConnectReduxProps = ConnectedProps<typeof connectRedux>;","import React from \"react\";\r\nimport classes from './styles.module.scss';\r\nimport logoImg from '../../../assets/images/usertive_logo.svg';\r\n\r\nfunction Logo() {\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.internalCircle}>\r\n        <img src={logoImg} alt={'Logo'} className={classes.logo} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Logo;","import React, {memo} from \"react\";\r\nimport {Song} from \"../../../redux-store/features/player/types\";\r\nimport classes from './styles.module.scss';\r\nimport Logo from \"../Logo\";\r\nimport clsx from \"clsx\";\r\n\r\nexport interface CoverProps {\r\n  song: Song,\r\n  enlarge?: boolean,\r\n}\r\n\r\nexport function Cover(props: CoverProps) {\r\n  const {song, enlarge=false} = props;\r\n\r\n  return (\r\n    <div className={clsx(classes.root, enlarge && classes.enlarge)}>\r\n      <div\r\n        className={classes.background}\r\n        style={{\r\n          backgroundImage: `url(\"${song.coverImg}\")`\r\n        }}\r\n      />\r\n\r\n      {enlarge && (\r\n        <div className={classes.logoOverlay}>\r\n          <Logo />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(Cover);","import {CarouselProps} from \"@brainhubeu/react-carousel\";\r\n\r\nexport const coversCarouselSettings: CarouselProps = {\r\n  clickToChange: true,\r\n  centered: true,\r\n  slidesPerPage: 2,\r\n  dots: false,\r\n};\r\nexport const titlesCarouselSettings: CarouselProps = {\r\n  clickToChange: true,\r\n  centered: true,\r\n  slidesPerPage: 1,\r\n  dots: false,\r\n};","import React, {memo} from \"react\";\r\nimport classes from './styles.module.scss';\r\nimport {Song} from \"../../../redux-store/features/player/types\";\r\nimport clsx from \"clsx\";\r\n\r\nexport interface SongTitleProps {\r\n  song: Song,\r\n  visible?: boolean,\r\n}\r\n\r\nfunction SongTitle(props: SongTitleProps) {\r\n  const {song, visible=false} = props;\r\n\r\n  return (\r\n    <div className={clsx(classes.root, visible && classes.fadeIn)}>\r\n      <h6 className={classes.title}>{song.title}</h6>\r\n      <h4 className={classes.subtitle}>{song.author.toUpperCase()}</h4>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(SongTitle);","\r\nexport const MAX_ROOT_WIDTH = (window.innerWidth < 576 ? window.innerWidth : 576);","import * as React from 'react';\r\nimport classes from './styles.module.scss';\r\nimport {Component} from \"react\";\r\nimport {Song} from \"../../../redux-store/features/player/types\";\r\nimport {Cover} from \"../../atoms/Cover\";\r\nimport Carousel from '@brainhubeu/react-carousel';\r\nimport '@brainhubeu/react-carousel/lib/style.css';\r\nimport {coversCarouselSettings, titlesCarouselSettings} from \"./carousel-settings\";\r\nimport SongTitle from \"../../molecules/SongTitle\";\r\nimport {MAX_ROOT_WIDTH} from \"../../../utils/constans\";\r\n\r\nconst coverSize = Math.floor(MAX_ROOT_WIDTH * 0.56);\r\n\r\nexport interface CoversSliderProps {\r\n  previousSongs: number[],\r\n  nextSongs: number[],\r\n  currentSong: number,\r\n  songs: Song[],\r\n  playSpecifiedSong: (nextSongId: number) => void,\r\n}\r\nexport interface CoversSliderState {\r\n  cache: Song[],\r\n  currentSlideIndex: number,\r\n}\r\n\r\nclass CoversSlider extends Component<CoversSliderProps, CoversSliderState> {\r\n  constructor(props: CoversSliderProps) {\r\n    super(props);\r\n    this.findSongById = this.findSongById.bind(this);\r\n    this.generateCache = this.generateCache.bind(this);\r\n    this.renderCover = this.renderCover.bind(this);\r\n    this.onSlideChange = this.onSlideChange.bind(this);\r\n    this.renderTitle = this.renderTitle.bind(this);\r\n\r\n    const cache = this.generateCache();\r\n    const currentSlideIndex = cache.indexOf(this.findSongById(this.props.currentSong));\r\n    this.state = {\r\n      cache, currentSlideIndex\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Readonly<CoversSliderProps>) {\r\n    if(\r\n      prevProps.previousSongs !== this.props.previousSongs\r\n      || prevProps.previousSongs.length !== this.props.previousSongs.length\r\n      || prevProps.currentSong !== this.props.currentSong\r\n      || prevProps.nextSongs.length !== this.props.nextSongs.length\r\n      || prevProps.nextSongs !== this.props.nextSongs\r\n    ) {\r\n      const cache = this.generateCache();\r\n      const currentSlideIndex = cache.indexOf(this.findSongById(this.props.currentSong));\r\n      this.setState({\r\n        cache, currentSlideIndex\r\n      });\r\n    }\r\n  }\r\n\r\n  private findSongById(songId: number): Song {\r\n    return this.props.songs.find(song => song.id === songId) as Song;\r\n  }\r\n  private generateCache(): Song[] {\r\n    const {previousSongs, currentSong, nextSongs} = this.props;\r\n    let cache: Song[] = [];\r\n    cache = cache.concat(previousSongs.map(\r\n      (songId: number) => this.findSongById(songId)\r\n    ));\r\n    cache.push(this.findSongById(currentSong));\r\n    cache = cache.concat(nextSongs.map(\r\n      (songId: number) => this.findSongById(songId)\r\n    ));\r\n    return cache;\r\n  }\r\n  private renderCover(song: Song, index: number) {\r\n    return (\r\n      <Cover\r\n        key={song.id + ':' + index}\r\n        song={song}\r\n        enlarge={this.props.currentSong === song.id}\r\n      />\r\n    );\r\n  }\r\n  private async onSlideChange(index: number): Promise<void> {\r\n    const songId = this.state.cache[index].id;\r\n    await this.props.playSpecifiedSong(songId);\r\n  }\r\n  private renderTitle(song: Song, index: number) {\r\n    return (\r\n      <SongTitle\r\n        key={song.id + ':' + index + '-title'}\r\n        song={song}\r\n        visible={this.props.currentSong === song.id}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {cache, currentSlideIndex} = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Carousel\r\n          itemWidth={coverSize}\r\n          offset={-32}\r\n          value={currentSlideIndex}\r\n          onChange={this.onSlideChange}\r\n          {...coversCarouselSettings}\r\n        >\r\n          {cache.map(this.renderCover)}\r\n        </Carousel>\r\n\r\n        {/*<div className={classes.divider} />*/}\r\n\r\n        <Carousel\r\n          itemWidth={coverSize}\r\n          offset={-32}\r\n          value={currentSlideIndex}\r\n          onChange={this.onSlideChange}\r\n          {...titlesCarouselSettings}\r\n        >\r\n          {cache.map(this.renderTitle)}\r\n        </Carousel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CoversSlider;","import React, {memo, useCallback} from \"react\";\r\nimport classes from './styles.module.scss';\r\nimport shuffleBtnIcon from '../../../assets/images/shuffle_ico.svg';\r\nimport prevSongBtnIcon from '../../../assets/images/previous_ico.svg';\r\nimport nextSongBtnIcon from '../../../assets/images/next_ico.svg';\r\nimport loopSongBtnIcon from '../../../assets/images/repeat_ico.svg';\r\nimport playActiveBtnIcon from '../../../assets/images/Play_active.png';\r\nimport playInactiveBtnIcon from '../../../assets/images/Play_inactive.png';\r\nimport {PlaybackStatus} from \"../../../redux-store/features/player/types\";\r\nimport clsx from \"clsx\";\r\n\r\ntype PropsKeys = 'switchPlayingState' | 'switchLoopMode' | 'switchShuffleMode' | 'playPreviousSong' | 'playNextSong';\r\nexport type PlayerControlsProps = PlaybackStatus & Record<PropsKeys, () => void>;\r\n\r\nfunction PlayerControls(props: PlayerControlsProps) {\r\n  const {\r\n    isPlayingNow, switchPlayingState,\r\n    isLoopModeEnabled, switchLoopMode,\r\n    isShuffleModeEnabled, switchShuffleMode,\r\n    playPreviousSong, playNextSong\r\n  } = props;\r\n\r\n  const createSwitcher = useCallback(\r\n    (fn: Function) => () => fn(), []\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.controlBtn}>\r\n        <img\r\n          src={shuffleBtnIcon}\r\n          alt={'Losowe'}\r\n          onClick={createSwitcher(switchShuffleMode)}\r\n          className={clsx(isShuffleModeEnabled && classes.active)}\r\n        />\r\n      </div>\r\n      <div className={classes.controlBtn}>\r\n        <img\r\n          src={prevSongBtnIcon}\r\n          alt={'Poprzedni utwór'}\r\n          onClick={createSwitcher(playPreviousSong)}\r\n        />\r\n      </div>\r\n      <div className={classes.playBtn}>\r\n        <img\r\n          src={playActiveBtnIcon}\r\n          alt={'Pauza'}\r\n          className={clsx(classes.active, !isPlayingNow && classes.fadeOut)}\r\n          onClick={createSwitcher(switchPlayingState)}\r\n        />\r\n        <img\r\n          src={playInactiveBtnIcon}\r\n          alt={'Play'}\r\n          className={clsx(isPlayingNow && classes.fadeOut)}\r\n          onClick={createSwitcher(switchPlayingState)}\r\n        />\r\n      </div>\r\n      <div className={classes.controlBtn}>\r\n        <img\r\n          src={nextSongBtnIcon}\r\n          alt={'Następny utwór'}\r\n          onClick={createSwitcher(playNextSong)}\r\n        />\r\n      </div>\r\n      <div className={classes.controlBtn}>\r\n        <img\r\n          src={loopSongBtnIcon}\r\n          alt={'Zapętlij bieżący'}\r\n          onClick={createSwitcher(switchLoopMode)}\r\n          className={clsx(isLoopModeEnabled && classes.active)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(PlayerControls);","import {Slider, withStyles} from \"@material-ui/core\";\r\n\r\nconst ProgressSlider = withStyles({\r\n  root: {\r\n    height: 5,\r\n  },\r\n  thumb: {\r\n    height: 0,\r\n    width: 0,\r\n    display: 'none'\r\n  },\r\n  active: {},\r\n  track: {\r\n    height: 5,\r\n    color: '#00c9b7',\r\n  },\r\n  rail: {\r\n    color: '#00c9b7',\r\n    marginTop: 1.5,\r\n    height: 2,\r\n    borderRadius: 1,\r\n  },\r\n})(Slider);\r\n\r\nexport default ProgressSlider;","import React, {memo, useCallback} from \"react\";\r\nimport classes from \"./styles.module.scss\";\r\nimport ProgressSlider from \"../../atoms/ProgressSlider\";\r\n\r\nexport interface ProgressBarProps {\r\n  durationMilis: number,\r\n  progressMilis: number,\r\n  setProgressMilis: (newLocalProgress: number, commited?: boolean) => void,\r\n}\r\n\r\nfunction ProgressBar(props: ProgressBarProps) {\r\n  const {\r\n    durationMilis, progressMilis, setProgressMilis\r\n  } = props;\r\n\r\n  const handleChange = useCallback((event: any, value: number | number[]) => {\r\n    setProgressMilis(Array.isArray(value) ? value[0] : value);\r\n  }, [setProgressMilis]);\r\n\r\n  const handleChangeCommited = useCallback((_event: React.ChangeEvent<{}>, value: number | number[]) => {\r\n    setProgressMilis(Array.isArray(value) ? value[0] : value, true);\r\n  }, [setProgressMilis]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ProgressSlider\r\n        value={progressMilis}\r\n        min={0}\r\n        max={durationMilis}\r\n        onChange={handleChange}\r\n        onChangeCommitted={handleChangeCommited}\r\n        valueLabelDisplay={'off'}\r\n      />\r\n      <div className={classes.sliderEndDot} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(ProgressBar);","\r\nexport function easyTimeFormat(timeMilis: number) {\r\n  const seconds = Math.floor(timeMilis / 1000);\r\n  const minutes = Math.floor(seconds / 60);\r\n  const leftSeconds = Math.floor(timeMilis / 1000 - minutes * 60);\r\n  return `${minutes}:${('0' + leftSeconds.toString()).slice(-2)}`;\r\n}","import {useEffect, useRef} from 'react';\r\n\r\nexport default function usePrevious<T>(value: T) {\r\n  // The ref object is a generic container whose current property is mutable ...\r\n  // ... and can hold any value, similar to an instance property on a class\r\n  const ref = useRef<T>();\r\n\r\n  // Store current value in ref\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]); // Only re-run if value changes\r\n\r\n  // Return previous value (happens before update in useEffect above)\r\n  return ref.current;\r\n}\r\n","import React, {memo, useCallback, useEffect, useMemo, useState} from \"react\";\r\nimport ProgressBar from \"../../molecules/ProgressBar\";\r\nimport {PlaybackStatus, Song} from \"../../../redux-store/features/player/types\";\r\nimport classes from './styles.module.scss';\r\nimport {easyTimeFormat} from \"../../../utils/time-utils\";\r\nimport usePrevious from \"../../../hooks/usePrevious\";\r\n\r\nexport interface ProgressControlsProps extends PlaybackStatus {\r\n  songs: Song[],\r\n  forwardProgress: (newProgressMilis: number) => void,\r\n}\r\n\r\nfunction ProgressControls(props: ProgressControlsProps) {\r\n  const {currentSongId, songs, progressMilis, forwardProgress} = props;\r\n  const prevProgressMilis = usePrevious(progressMilis);\r\n  const [localProgress, setLocalProgress] = useState<number>(progressMilis);\r\n  const [isSwipingNow, setSwipingNow] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    if(!isSwipingNow && prevProgressMilis !== progressMilis)\r\n      setLocalProgress(progressMilis);\r\n  }, [isSwipingNow, prevProgressMilis, progressMilis, setLocalProgress]);\r\n\r\n  const currentSong: Song = useMemo(() => {\r\n    return songs.find(song => song.id === currentSongId) as Song;\r\n  }, [currentSongId, songs]);\r\n  const {durationMillis} = currentSong;\r\n\r\n  const handleSliderProgressChange = useCallback((newValue: number, commited?: boolean) => {\r\n    if(commited) {\r\n      forwardProgress(newValue);\r\n      setSwipingNow(false);\r\n    } else {\r\n      if(isSwipingNow) {\r\n        if(newValue === localProgress)\r\n          return;\r\n      } else {\r\n        if(!isSwipingNow)\r\n          setSwipingNow(true);\r\n      }\r\n\r\n      setLocalProgress(newValue);\r\n    }\r\n  }, [isSwipingNow, setSwipingNow, localProgress, setLocalProgress, forwardProgress]);\r\n\r\n  const startTime = useMemo(() => easyTimeFormat(localProgress), [localProgress]);\r\n  const endTime = useMemo(() => easyTimeFormat(durationMillis), [durationMillis]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <span className={classes.timeLabel}>\r\n        {startTime}\r\n      </span>\r\n      <ProgressBar\r\n        progressMilis={localProgress}\r\n        durationMilis={currentSong.durationMillis}\r\n        setProgressMilis={handleSliderProgressChange}\r\n      />\r\n      <span className={classes.timeLabel}>\r\n        {endTime}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(ProgressControls);","import React from \"react\";\r\nimport musicWaveImg from '../../../assets/images/wave.png';\r\nimport classes from './styles.module.scss';\r\n\r\nfunction MusicWave() {\r\n  return (\r\n    <div className={classes.root}>\r\n      <img src={musicWaveImg} alt={'Fala muzyczna'} className={classes.img} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MusicWave;","import React, {memo, useMemo} from \"react\";\r\nimport {InitialState, Song} from \"../../../redux-store/features/player/types\";\r\nimport classes from './styles.module.scss';\r\nimport playlistImg from '../../../assets/images/playlist_ico.svg';\r\nimport {easyTimeFormat} from \"../../../utils/time-utils\";\r\n\r\nexport type NextSongFooterProps = Pick<InitialState, 'nextSongs' | 'songs'>;\r\n\r\nfunction NextSongFooter(props: NextSongFooterProps) {\r\n  const {nextSongs, songs} = props;\r\n  let nextSong: Song | undefined = undefined;\r\n  if(nextSongs.length > 0)\r\n    nextSong = songs.find(song => song.id === nextSongs[0]) as Song;\r\n\r\n  const songDuration: string | undefined = useMemo(() => {\r\n    return nextSong ? easyTimeFormat(nextSong.durationMillis) : undefined;\r\n  }, [nextSong]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.playlistImgWrapper}>\r\n        <img src={playlistImg} alt={'Lista'} className={classes.playlistImg} />\r\n      </div>\r\n      <div className={classes.nextSongContentWrapper}>\r\n        <span className={classes.label}>NEXT</span>\r\n        <div className={classes.songInfoRow}>\r\n          <span className={classes.songTitle}>{nextSong ? nextSong.title : '...'}</span>\r\n          {nextSong && (\r\n            <span className={classes.songDuration}>{songDuration}</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(NextSongFooter);","import React, {memo} from \"react\";\r\nimport RootTemplate from \"../../templates/RootTemplate\";\r\nimport BackgroundImage from \"../../atoms/BackgroundImage\";\r\nimport Header from \"../../organisms/Header\";\r\nimport {connectRedux, ConnectReduxProps} from \"./redux\";\r\nimport CoversSlider from '../../organisms/CoversSlider';\r\nimport PlayerControls from \"../../organisms/PlayerControls\";\r\nimport ProgressControls from \"../../organisms/ProgressControls\";\r\nimport {useTrackTimer} from \"../../../hooks/useTrackTimer\";\r\nimport useTrackEndHandler from \"../../../hooks/useTrackEndHandler\";\r\nimport MusicWave from \"../../atoms/MusicWave\";\r\nimport NextSongFooter from \"../../organisms/NextSongFooter\";\r\n\r\ntype RootPageProps = ConnectReduxProps;\r\n\r\nfunction RootPage(props: RootPageProps) {\r\n  const {\r\n    currentSong, playbackStatus, forwardProgress,\r\n    switchPlayingState, loopSong, playNextSong,\r\n    songs, nextSongs\r\n  } = props;\r\n  const {isPlayingNow, progressMilis, isLoopModeEnabled} = playbackStatus;\r\n\r\n  useTrackTimer({\r\n    isPlayingNow,\r\n    progressMilis,\r\n    forwardProgress,\r\n    switchPlayingState,\r\n    durationMilis: currentSong.durationMillis,\r\n  });\r\n\r\n  useTrackEndHandler({\r\n    isPlayingNow,\r\n    progressMilis,\r\n    isLoopModeEnabled,\r\n    durationMilis: currentSong.durationMillis,\r\n    loopSong,\r\n    playNextSong,\r\n    switchPlayingState\r\n  });\r\n\r\n  return (\r\n    <RootTemplate\r\n      backgroundLayer={<BackgroundImage />}\r\n      header={<Header albumTitle={currentSong.album} />}\r\n      body={<CoversSlider {...{...props, currentSong: currentSong.id}} />}\r\n      player={<PlayerControls {...playbackStatus} {...props} />}\r\n      progressBar={<ProgressControls {...playbackStatus} songs={props.songs} forwardProgress={forwardProgress} />}\r\n      musicWave={<MusicWave />}\r\n      footer={<NextSongFooter songs={songs} nextSongs={nextSongs} />}\r\n    />\r\n  );\r\n}\r\n\r\nexport default connectRedux(memo(RootPage));","import {useEffect, useRef} from \"react\";\r\nimport usePrevious from \"./usePrevious\";\r\n\r\nexport interface UseSongTimeForwardedArgs {\r\n  isPlayingNow: boolean,\r\n  progressMilis: number,\r\n  durationMilis: number,\r\n  switchPlayingState: (newPlayingState: boolean) => void\r\n  forwardProgress: (newProgressMilis: number) => void,\r\n}\r\n\r\nexport function useTrackTimer(args: UseSongTimeForwardedArgs) {\r\n  const {\r\n    isPlayingNow, progressMilis, durationMilis,\r\n    forwardProgress, switchPlayingState\r\n  } = args;\r\n  const prevProgressMilis = usePrevious(progressMilis);\r\n  const progressMilisPointer = useRef<number>(progressMilis);\r\n  const tickTimerId = useRef<null | NodeJS.Timeout>(null);\r\n\r\n  useEffect(() => {\r\n    if(prevProgressMilis !== progressMilis)\r\n      progressMilisPointer.current = progressMilis;\r\n  }, [prevProgressMilis, progressMilis, progressMilisPointer]);\r\n\r\n  useEffect(() => {\r\n    function stopTimer() {\r\n      if(tickTimerId.current) {\r\n        clearInterval(tickTimerId.current);\r\n        tickTimerId.current = null;\r\n      }\r\n    }\r\n\r\n    if(isPlayingNow && !tickTimerId.current) {\r\n      tickTimerId.current = setInterval(() => {\r\n        const progressMilis = progressMilisPointer.current;\r\n        const left: number = durationMilis - progressMilis;\r\n        if(left < 1000) {\r\n          stopTimer(); // niekonieczne, ale w sumie spoko, żeby nie było, że przekroczy o sekunde..?\r\n          forwardProgress(progressMilis + left);\r\n          switchPlayingState(false);\r\n        } else {\r\n          forwardProgress(progressMilis + 1000);\r\n        }\r\n      }, 1000);\r\n    } else if(!isPlayingNow) {\r\n      stopTimer();\r\n    }\r\n\r\n    return () => {\r\n      if(!isPlayingNow && tickTimerId.current) {\r\n        clearInterval(tickTimerId.current);\r\n        tickTimerId.current = null;\r\n      }\r\n    };\r\n  }, [\r\n    isPlayingNow, tickTimerId, durationMilis,\r\n    progressMilisPointer, forwardProgress, switchPlayingState\r\n  ]);\r\n\r\n}","import {useEffect} from \"react\";\r\n\r\nexport interface UseTrackEndHandlerProps {\r\n  isPlayingNow: boolean,\r\n  progressMilis: number,\r\n  durationMilis: number,\r\n  isLoopModeEnabled: boolean,\r\n  loopSong: () => void,\r\n  playNextSong: () => void,\r\n  switchPlayingState: (newPlayingState: boolean) => void,\r\n}\r\n\r\nexport default function useTrackEndHandler(args: UseTrackEndHandlerProps) {\r\n  const {\r\n    isPlayingNow, progressMilis, durationMilis,\r\n    isLoopModeEnabled, loopSong, playNextSong,\r\n    switchPlayingState\r\n  } = args;\r\n\r\n  useEffect(() => {\r\n    if(!isPlayingNow && progressMilis === durationMilis) {\r\n      if(isLoopModeEnabled)\r\n        loopSong();\r\n      else\r\n        playNextSong();\r\n\r\n      switchPlayingState(true);\r\n    }\r\n  }, [\r\n    isPlayingNow, progressMilis, durationMilis,\r\n    isLoopModeEnabled, loopSong, playNextSong,\r\n    switchPlayingState\r\n  ]);\r\n}","import {combineReducers} from \"redux\";\r\nimport {player} from \"./features/player/slice\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  player: player.reducer,\r\n});\r\n","import {configureStore, getDefaultMiddleware} from \"@reduxjs/toolkit\";\r\nimport {rootReducer} from \"./rootReducer\";\r\n\r\nfunction configureReduxStore() {\r\n  return configureStore({\r\n    reducer: rootReducer,\r\n    middleware: getDefaultMiddleware()\r\n  });\r\n}\r\n\r\nexport const store = configureReduxStore();\r\n","import React from 'react';\nimport RootPage from \"./components/pages/RootPage\";\nimport {Provider as ReduxProvider} from \"react-redux\";\nimport {store} from \"./redux-store/store\";\n\nfunction App() {\n  return (\n    <ReduxProvider store={store}>\n      <RootPage />\n    </ReduxProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'normalize.css'\nimport './index.scss';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}